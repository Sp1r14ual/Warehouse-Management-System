<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Warehouse Admin Panel</title>
    <style>
      body {
        font-family: Arial, sans-serif;
        margin: 20px;
        background-color: #f4f4f4;
        color: #333;
      }

      #itemForm,
      #searchForm {
        margin-bottom: 20px;
        background-color: #fff;
        padding: 15px;
        border-radius: 5px;
        box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
      }

      label {
        display: block;
        margin-bottom: 5px;
        color: #555;
      }

      input {
        width: 100%;
        padding: 8px;
        margin-bottom: 10px;
        border: 1px solid #ccc;
        border-radius: 4px;
      }

      button {
        padding: 8px 12px;
        cursor: pointer;
        background-color: #4caf50;
        color: #fff;
        border: none;
        border-radius: 4px;
      }

      button:hover {
        background-color: #45a049;
      }

      #items {
        list-style: none;
        padding: 0;
      }

      li {
        margin-bottom: 10px;
        background-color: #fff;
        padding: 10px;
        border-radius: 5px;
        box-shadow: 0 0 5px rgba(0, 0, 0, 0.1);
      }

      li button {
        background-color: #e74c3c;
        color: #fff;
        border: none;
        padding: 5px 8px;
        margin-left: 10px;
        border-radius: 4px;
      }

      li button:hover {
        background-color: #c0392b;
      }
    </style>
  </head>
  <body>
    <div id="itemForm">
      <!-- Form for adding a new item -->
      <label for="itemName">Item Name:</label>
      <input type="text" id="itemName" />
      <label for="vendorCode">Vendor Code:</label>
      <input type="text" id="vendorCode" />
      <label for="quantity">Quantity:</label>
      <input type="number" id="quantity" min="0" value="0" />
      <label for="weight">Weight (lbs):</label>
      <input type="number" id="weight" min="0" value="0" />
      <label for="shelfLife">Shelf Life (days):</label>
      <input type="number" id="shelfLife" min="0" value="0" />
      <label for="shipper">Shipper:</label>
      <input type="text" id="shipper" />
      <label for="location">Location:</label>
      <input type="text" id="location" value="Default Location" />
      <!-- Default location -->
      <!-- Add more input fields for other item properties -->
      <!-- Fix the button onclick attribute -->
      <button onclick="addItem()">Add Item</button>
    </div>

    <div id="itemList">
      <!-- Display list of items with delete functionality -->
      <ul id="items"></ul>
    </div>

    <div id="searchForm">
      <!-- Form for searching items -->
      <label for="searchTerm">Search Term:</label>
      <input type="text" id="searchTerm" />
      <button onclick="searchItem()">Search</button>
    </div>

    <script>
      // Use let instead of const to allow reassignment
      let items = [];
      // Array to store filtered items
      let filteredItems = [];

      function renderItems(displayItems) {
        const itemList = document.getElementById('items');
        itemList.innerHTML = '';

        displayItems.forEach(item => {
          const listItem = document.createElement('li');
          listItem.innerHTML = `
            <strong>${item.name}</strong> -
            Vendor Code: ${item.vendorCode} -
            Location: ${item.location} -
            Quantity: ${item.quantity} -
            Weight: ${item.weight} lbs -
            Shelf Life: ${item.shelfLife} days -
            Shipper: ${item.shipper} <!-- Display shipper -->
          `;

          const deleteButton = document.createElement('button');
          deleteButton.textContent = 'Delete';
          deleteButton.addEventListener('click', () => deleteItem(item.id));

          const changeLocationButton = document.createElement('button');
          changeLocationButton.textContent = 'Change Location';
          changeLocationButton.addEventListener('click', () =>
            changeLocation(item.id)
          );

          const changeQuantityButton = document.createElement('button');
          changeQuantityButton.textContent = 'Change Quantity';
          changeQuantityButton.addEventListener('click', () =>
            changeQuantity(item.id)
          );

          const changeWeightButton = document.createElement('button');
          changeWeightButton.textContent = 'Change Weight';
          changeWeightButton.addEventListener('click', () =>
            changeWeight(item.id)
          );

          const changeShelfLifeButton = document.createElement('button');
          changeShelfLifeButton.textContent = 'Change Shelf Life';
          changeShelfLifeButton.addEventListener('click', () =>
            changeShelfLife(item.id)
          );

          const changeShipperButton = document.createElement('button');
          changeShipperButton.textContent = 'Change Shipper';
          changeShipperButton.addEventListener('click', () =>
            changeShipper(item.id)
          );

          listItem.appendChild(deleteButton);
          listItem.appendChild(changeLocationButton);
          listItem.appendChild(changeQuantityButton);
          listItem.appendChild(changeWeightButton);
          listItem.appendChild(changeShelfLifeButton);
          listItem.appendChild(changeShipperButton);

          itemList.appendChild(listItem);
        });
      }

      function addItem() {
        const itemName = document.getElementById('itemName').value;
        const vendorCode = document.getElementById('vendorCode').value;
        const quantity =
          parseInt(document.getElementById('quantity').value) || 0; // Ensure a valid number
        const weight = parseFloat(document.getElementById('weight').value) || 0; // Ensure a valid number
        const shelfLife =
          parseInt(document.getElementById('shelfLife').value) || 0; // Ensure a valid number
        const shipper = document.getElementById('shipper').value; // Get shipper directly
        const location =
          document.getElementById('location').value || 'Default Location'; // Get location directly

        const newItem = {
          id: Date.now(),
          name: itemName,
          vendorCode: vendorCode,
          location: location,
          quantity: quantity,
          weight: weight,
          shelfLife: shelfLife,
          shipper: shipper,
        };
        items.push(newItem);

        // Update filteredItems array when a new item is added
        filteredItems.push(newItem);

        // Render either all items or filtered items based on the current state
        renderItems(filteredItems.length > 0 ? filteredItems : items);
      }

      function deleteItem(itemId) {
        // Use filter to exclude the item with the specified ID
        items = items.filter(item => item.id !== itemId);
        filteredItems = filteredItems.filter(item => item.id !== itemId);
        renderItems(filteredItems.length > 0 ? filteredItems : items);
      }

      function changeLocation(itemId) {
        const item = items.find(item => item.id === itemId);
        if (item) {
          const newLocation = prompt('Enter new location:');
          if (newLocation !== null) {
            item.location = newLocation;
            renderItems(filteredItems.length > 0 ? filteredItems : items);
          }
        }
      }

      function changeQuantity(itemId) {
        const item = items.find(item => item.id === itemId);
        if (item) {
          const newQuantity = prompt('Enter new quantity:');
          if (newQuantity !== null && !isNaN(newQuantity)) {
            item.quantity = parseInt(newQuantity);
            renderItems(filteredItems.length > 0 ? filteredItems : items);
          }
        }
      }

      function changeWeight(itemId) {
        const item = items.find(item => item.id === itemId);
        if (item) {
          const newWeight = prompt('Enter new weight:');
          if (newWeight !== null && !isNaN(newWeight)) {
            item.weight = parseFloat(newWeight);
            renderItems(filteredItems.length > 0 ? filteredItems : items);
          }
        }
      }

      function changeShelfLife(itemId) {
        const item = items.find(item => item.id === itemId);
        if (item) {
          const newShelfLife = prompt('Enter new shelf life (days):');
          if (newShelfLife !== null && !isNaN(newShelfLife)) {
            item.shelfLife = parseInt(newShelfLife);
            renderItems(filteredItems.length > 0 ? filteredItems : items);
          }
        }
      }

      function changeShipper(itemId) {
        const item = items.find(item => item.id === itemId);
        if (item) {
          const newShipper = prompt('Enter new shipper:');
          if (newShipper !== null) {
            item.shipper = newShipper;
            renderItems(filteredItems.length > 0 ? filteredItems : items);
          }
        }
      }

      // ... (rest of the functions remain unchanged)

      // Initial rendering
      renderItems(items);
    </script>
  </body>
</html>
